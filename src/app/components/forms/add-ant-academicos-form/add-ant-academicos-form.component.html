<app-nabvar></app-nabvar>
<app-progress-spiner [Isloading]="PageLoading"></app-progress-spiner>
<body *ngIf="PageLoading==='hidden'">
  <div [style]="{'visibility': invalidAdd}" class="alert alert-danger" role="alert">
    Algo salió mal. No se pudo agregar un nuevo antecedente academico. Inténtelo nuevamente. 
  </div>
  <h1>Nuevo Antecedente Académico</h1>
          <app-file-upload [previewUrl]="preview" [fileName]="fileMessage" (imageToUpload)="getImageFile($event)"></app-file-upload>
  <form [formGroup]="form" (ngSubmit)="onSubmit($event)">
    <div *ngIf="!noImageUpload" class="alert alert-danger">Logo is required</div>
    <div class="form-group">
        <input formControlName="antacademicos_titulo" type="text" class="form-control" aria-describedby="antacademicos_titulo" placeholder="Titulo de Antecedente" >
        <div *ngIf="antacademicos_titulo!.touched && antacademicos_titulo!.invalid" class="alert alert-danger">Titulo is required</div>
    </div>
    <div class="form-group">
        <input formControlName="antacademicos_genero" type="text" class="form-control" aria-describedby="antacademicos_genero" placeholder="Genero de Antecedente" >
        <div *ngIf="antacademicos_genero!.touched && antacademicos_genero!.invalid" class="alert alert-danger">Genero is required</div>
    </div>
    <div class="form-group">
        <input formControlName="antacademicos_institucion" type="text" class="form-control" aria-describedby="Institucion" placeholder="Institución" >
        <div *ngIf="antacademicos_institucion!.touched && antacademicos_institucion!.invalid" class="alert alert-danger">Institución is required</div>
    </div>
    <div class="form-group">
        <input formControlName="antacademicos_fecha_inicio" type="date" class="form-control">
        <div *ngIf="antacademicos_fecha_inicio!.touched && antacademicos_fecha_inicio!.invalid" class="alert alert-danger">Fecha de Inicio is required</div>
      </div>
    <div class="form-group">
        <input formControlName="antacademicos_fecha_fin" type="date" class="form-control">
        <div *ngIf="antacademicos_fecha_fin!.touched && antacademicos_fecha_fin!.invalid" class="alert alert-danger">Fecha final is required</div>
      </div>
    <div class="form-group">
      <textarea rows="4" formControlName="antacademicos_descripcion" type="text" class="form-control" aria-describedby="antacademicos_descripcion" placeholder="Ingrese descripción" ></textarea>
      <div *ngIf="antacademicos_descripcion!.touched && antacademicos_descripcion!.invalid" class="alert alert-danger">Description is required</div>
    </div>
    <select formControlName="antacademicos_estado" class="form-control" id="levelFormControlSelect">
      <div *ngIf="antacademicos_estado!.touched && antacademicos_estado!.invalid" class="alert alert-danger">Estado is required</div>
      <option value="" selected>Seleccione un Estado</option>
      <ng-container *ngFor="let estado of estados">
      <option [value]="estado.level_id">{{estado.level_descripcion}}</option>
    </ng-container>
    </select>
      <button type="submit" class="btn btn-primary">Agregar Nuevo Antecedente Académico</button>
    <hr>
    <button type="submit" class="btn btn-dark" routerLink="">Volver al portfolio</button>
    <mat-spinner color="accent" diameter=80 [style]="{'visibility': loadingRequest}"></mat-spinner>
  </form>
</body>